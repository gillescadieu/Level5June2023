{%raw%}path: "{{lookup('env','PWD')}}"{%endraw%}

cvp_configlets_evpn:
{% for switch in underlay['devices'] %}
  {{ switch }}_EVPN: {%raw%}"{{lookup('file','{{path}}/configs/{%endraw%}{{ switch }}/{{ switch }}_EVPN.cfg')}}"
  {{ switch }}_interface: {%raw%}"{{lookup('file','{{path}}/configs/{%endraw%}{{ switch }}/{{ switch }}_interface.cfg')}}"
{% if 'leaf' in switch %}
  {{ switch }}_Tenants: {%raw%}"{{lookup('file','{{path}}/configs/{%endraw%}{{ switch }}/{{ switch }}_Tenants.cfg')}}"
{% endif %}
{% endfor %}

cvp_devices_evpn:
  - fqdn: 'spine1-DC1'
    parentContainerName: 'Spine-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'spine1-DC1-BASE'
      - 'spine1-DC1_EVPN'
      - 'spine1-DC1_interface'
  - fqdn: 'spine2-DC1'
    parentContainerName: 'Spine-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'spine2-DC1-BASE'
      - 'spine2-DC1_EVPN'
      - 'spine2-DC1_interface'
  - fqdn: 'spine3-DC1'
    parentContainerName: 'Spine-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'spine3-DC1-BASE'
      - 'spine3-DC1_EVPN'
      - 'spine3-DC1_interface'
  - fqdn: 'leaf1-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'leaf1-DC1-BASE'
      - 'leaf1-DC1_EVPN'
      - 'leaf1-DC1_interface'
      - 'leaf1-DC1_Tenants'
      - 'MLAG_Left'
      - 'host_connect'
  - fqdn: 'leaf2-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'leaf2-DC1-BASE'
      - 'leaf2-DC1_EVPN'
      - 'leaf2-DC1_interface'
      - 'leaf2-DC1_Tenants'
      - 'MLAG_Right'
      - 'host_connect'
  - fqdn: 'leaf3-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'leaf3-DC1-BASE'
      - 'leaf3-DC1_EVPN'
      - 'leaf3-DC1_interface'
      - 'leaf3-DC1_Tenants'
      - 'MLAG_Left'
      - 'host_connect'
  - fqdn: 'leaf4-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'leaf4-DC1-BASE'
      - 'leaf4-DC1_EVPN'
      - 'leaf4-DC1_interface'
      - 'leaf4-DC1_Tenants'
      - 'MLAG_Right'
      - 'host_connect'
  - fqdn: 'borderleaf1-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'borderleaf1-DC1-BASE'
      - 'borderleaf1-DC1_EVPN'
      - 'borderleaf1-DC1_interface'
      - 'borderleaf1-DC1_Tenants'
      - 'MLAG_Left'
  - fqdn: 'borderleaf2-DC1'
    parentContainerName: 'Leaf-DC1'
    configlets:
      - 'ATD-INFRA'
      - 'borderleaf2-DC1-BASE'
      - 'borderleaf2-DC1_EVPN'
      - 'borderleaf2-DC1_interface'
      - 'borderleaf2-DC1_Tenants'
      - 'MLAG_Right'
  - fqdn: 'spine1-DC2'
    parentContainerName: 'Spine-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'spine1-DC2-BASE'
      - 'spine1-DC2_EVPN'
      - 'spine1-DC2_interface'
  - fqdn: 'spine2-DC2'
    parentContainerName: 'Spine-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'spine2-DC2-BASE'
      - 'spine2-DC2_EVPN'
      - 'spine2-DC2_interface'
  - fqdn: 'spine3-DC2'
    parentContainerName: 'Spine-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'spine3-DC2-BASE'
      - 'spine3-DC2_EVPN'
      - 'spine3-DC2_interface'
  - fqdn: 'leaf1-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'leaf1-DC2-BASE'
      - 'leaf1-DC2_EVPN'
      - 'leaf1-DC2_interface'
      - 'leaf1-DC2_Tenants'
      - 'MLAG_Left'
  - fqdn: 'leaf2-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'leaf2-DC2-BASE'
      - 'leaf2-DC2_EVPN'
      - 'leaf2-DC2_interface'
      - 'leaf2-DC2_Tenants'
      - 'MLAG_Right'
  - fqdn: 'leaf3-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'leaf3-DC2-BASE'
      - 'leaf3-DC2_EVPN'
      - 'leaf3-DC2_interface'
      - 'leaf3-DC2_Tenants'
      - 'MLAG_Left'
  - fqdn: 'leaf4-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'leaf4-DC2-BASE'
      - 'leaf4-DC2_EVPN'
      - 'leaf4-DC2_interface'
      - 'leaf4-DC2_Tenants'
      - 'MLAG_Right'
  - fqdn: 'borderleaf1-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'borderleaf1-DC2-BASE'
      - 'borderleaf1-DC2_EVPN'
      - 'borderleaf1-DC2_interface'
      - 'borderleaf1-DC2_Tenants'
      - 'MLAG_Left'
  - fqdn: 'borderleaf2-DC2'
    parentContainerName: 'Leaf-DC2'
    configlets:
      - 'ATD-INFRA'
      - 'borderleaf2-DC2-BASE'
      - 'borderleaf2-DC2_EVPN'
      - 'borderleaf2-DC2_interface'
      - 'borderleaf2-DC2_Tenants'
      - 'MLAG_Right'